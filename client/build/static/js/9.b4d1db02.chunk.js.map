{"version":3,"sources":["Components/UserAccount/ChangePassword.js"],"names":["ChangePassword","state","useContext","GlobalState","user","UserAPI","User","token","useState","oldPassword","newPassword","retypeNewPassword","Password","setPassword","onChangeInput","e","target","name","value","onSubmitChangePassword","a","preventDefault","axios","post","_id","headers","Authorization","res","Swal","fire","position","background","icon","text","data","msg","confirmButtonColor","showConfirmButton","response","className","xs","md","lg","xl","onSubmit","type","placeholder","autoComplete","onChange","required","color","block"],"mappings":"+QAmJeA,UAhIQ,WACrB,IAAMC,EAAQC,qBAAWC,KAClBC,EAAP,YAAeH,EAAMI,QAAQC,KAA7B,MACOC,EAAP,YAAgBN,EAAMM,MAAtB,MACA,EAAgCC,mBAAS,CACvCC,YAAa,GACbC,YAAa,GACbC,kBAAmB,KAHrB,mBAAOC,EAAP,KAAiBC,EAAjB,KAMMC,EAAgB,SAACC,GACrB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,EAAY,2BAAKD,GAAN,kBAAiBK,EAAOC,MAG/BC,EAAsB,uCAAG,WAAOJ,GAAP,eAAAK,EAAA,yDAC7BL,EAAEM,iBAD2B,SAGvBT,EAASF,cAAgBE,EAASD,kBAHX,gCAIPW,IAAMC,KAAN,gCACSnB,EAAKoB,KADd,eAGXZ,GAEL,CAAEa,QAAS,CAAEC,cAAenB,KATL,OAInBoB,EAJmB,OAWzBC,IAAKC,KAAK,CACRC,SAAU,SACVC,WAAY,UACZC,KAAM,UACNC,KAAMN,EAAIO,KAAKC,IACfC,mBAAoB,UACpBC,mBAAmB,IAjBI,uBAqBzBT,IAAKC,KAAK,CACRC,SAAU,SACVC,WAAY,UACZC,KAAM,QACNC,KAAM,sDACNG,mBAAoB,UACpBC,mBAAmB,IA3BI,0DAgC3BT,IAAKC,KAAK,CACRC,SAAU,SACVC,WAAY,UACZC,KAAM,QACNC,KAAM,KAAMK,SAASJ,KAAKC,IAC1BC,mBAAoB,UACpBC,mBAAmB,IAtCM,0DAAH,sDA4C5B,OACE,cAAC,IAAD,CAAME,UAAU,gCAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAA/B,SACE,eAAC,IAAD,CAAOJ,UAAU,cAAjB,UACE,cAAC,IAAD,UACE,oBAAIA,UAAU,aAAd,oCAEF,cAAC,IAAD,CAAWA,UAAU,MAArB,SACE,eAAC,IAAD,CAAOK,SAAUzB,EAAjB,UACE,eAAC,IAAD,CAAaoB,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOtB,KAAK,0BAGhB,cAAC,IAAD,CACE4B,KAAK,WACL5B,KAAK,cACL6B,YAAY,eACZC,aAAa,cACbC,SAAUlC,EACVI,MAAON,EAASH,YAChBwC,UAAQ,OAGZ,eAAC,IAAD,CAAaV,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOtB,KAAK,wBAGhB,cAAC,IAAD,CACE4B,KAAK,WACL5B,KAAK,cACL6B,YAAY,eACZC,aAAa,eACbC,SAAUlC,EACVI,MAAON,EAASF,YAChBuC,UAAQ,OAGZ,eAAC,IAAD,CAAaV,UAAU,OAAvB,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAOtB,KAAK,wBAGhB,cAAC,IAAD,CACE4B,KAAK,WACLC,YAAY,sBACZC,aAAa,eACb9B,KAAK,oBACL+B,SAAUlC,EACVI,MAAON,EAASD,kBAChBsC,UAAQ,OAGZ,cAAC,IAAD,CAASJ,KAAK,SAASK,MAAM,UAAUC,OAAK,EAA5C,kCAKJ,cAAC,IAAD,CAAaZ,UAAU","file":"static/js/9.b4d1db02.chunk.js","sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardHeader,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCol,\r\n  CForm,\r\n  CInput,\r\n  CInputGroup,\r\n  CInputGroupPrepend,\r\n  CInputGroupText,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nconst ChangePassword = () => {\r\n  const state = useContext(GlobalState);\r\n  const [user] = state.UserAPI.User;\r\n  const [token] = state.token;\r\n  const [Password, setPassword] = useState({\r\n    oldPassword: \"\",\r\n    newPassword: \"\",\r\n    retypeNewPassword: \"\",\r\n  });\r\n\r\n  const onChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setPassword({ ...Password, [name]: value });\r\n  };\r\n\r\n  const onSubmitChangePassword = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (Password.newPassword === Password.retypeNewPassword) {\r\n        const res = await axios.post(\r\n          `/user/change_password/${user._id}`,\r\n          {\r\n            ...Password,\r\n          },\r\n          { headers: { Authorization: token } }\r\n        );\r\n        Swal.fire({\r\n          position: \"center\",\r\n          background: \"#EBEDEF\", // 2EB85C success // E55353 danger // 1E263C sidebar\r\n          icon: \"success\",\r\n          text: res.data.msg,\r\n          confirmButtonColor: \"#1E263C\",\r\n          showConfirmButton: false,\r\n          // timer: 1500,\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          position: \"center\",\r\n          background: \"#EBEDEF\", // 2EB85C success // E55353 danger // 1E263C sidebar\r\n          icon: \"error\",\r\n          text: \"New password not mutch please retype your password!\",\r\n          confirmButtonColor: \"#1E263C\",\r\n          showConfirmButton: false,\r\n          // timer: 1500,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      Swal.fire({\r\n        position: \"center\",\r\n        background: \"#EBEDEF\", // 2EB85C success // E55353 danger // 1E263C sidebar\r\n        icon: \"error\",\r\n        text: error.response.data.msg,\r\n        confirmButtonColor: \"#1E263C\",\r\n        showConfirmButton: false,\r\n        // timer: 1500,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CRow className=\"d-flex justify-content-center\">\r\n      <CCol xs=\"12\" md=\"9\" lg=\"7\" xl=\"6\">\r\n        <CCard className=\"mx-4 shadow\">\r\n          <CCardHeader>\r\n            <h5 className=\"text-muted\">Change your password</h5>\r\n          </CCardHeader>\r\n          <CCardBody className=\"p-4\">\r\n            <CForm onSubmit={onSubmitChangePassword}>\r\n              <CInputGroup className=\"mb-3\">\r\n                <CInputGroupPrepend>\r\n                  <CInputGroupText>\r\n                    <CIcon name=\"cil-lock-unlocked\" />\r\n                  </CInputGroupText>\r\n                </CInputGroupPrepend>\r\n                <CInput\r\n                  type=\"password\"\r\n                  name=\"oldPassword\"\r\n                  placeholder=\"old password\"\r\n                  autoComplete=\"oldPassword\"\r\n                  onChange={onChangeInput}\r\n                  value={Password.oldPassword}\r\n                  required\r\n                />\r\n              </CInputGroup>\r\n              <CInputGroup className=\"mb-3\">\r\n                <CInputGroupPrepend>\r\n                  <CInputGroupText>\r\n                    <CIcon name=\"cil-lock-locked\" />\r\n                  </CInputGroupText>\r\n                </CInputGroupPrepend>\r\n                <CInput\r\n                  type=\"password\"\r\n                  name=\"newPassword\"\r\n                  placeholder=\"New Password\"\r\n                  autoComplete=\"new-password\"\r\n                  onChange={onChangeInput}\r\n                  value={Password.newPassword}\r\n                  required\r\n                />\r\n              </CInputGroup>\r\n              <CInputGroup className=\"mb-4\">\r\n                <CInputGroupPrepend>\r\n                  <CInputGroupText>\r\n                    <CIcon name=\"cil-lock-locked\" />\r\n                  </CInputGroupText>\r\n                </CInputGroupPrepend>\r\n                <CInput\r\n                  type=\"password\"\r\n                  placeholder=\"Repeat new password\"\r\n                  autoComplete=\"new-password\"\r\n                  name=\"retypeNewPassword\"\r\n                  onChange={onChangeInput}\r\n                  value={Password.retypeNewPassword}\r\n                  required\r\n                />\r\n              </CInputGroup>\r\n              <CButton type=\"submit\" color=\"success\" block>\r\n                Change Password\r\n              </CButton>\r\n            </CForm>\r\n          </CCardBody>\r\n          <CCardFooter className=\"p-4\"></CCardFooter>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n"],"sourceRoot":""}