{"version":3,"sources":["Components/Maintenance/MaintenanceAnnual.js"],"names":["MaintenanceAnnual","useContext","GlobalState","useState","machineId","businessId","acceptanceFile","upld","setUpld","onChangeInput","e","target","name","value","onSubmitSave","a","preventDefault","formData","FormData","append","axios","post","res","alert","data","msg","onSubmit","xs","id","placeholder","onChange","required","type","accept","files","className","sm","size","color"],"mappings":"sQAuHeA,UAvGf,WACkBC,qBAAWC,KAAzB,IACA,EAAwBC,mBAAS,CAC7BC,UAAU,GACVC,WAAW,GACXC,eAAe,KAHnB,mBAAOC,EAAP,KAAaC,EAAb,KAMKC,EAAgB,SAACC,GACtB,IACE,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdL,EAAQ,2BAAKD,GAAN,kBAAaK,EAAOC,KAC3B,YAMIC,EAAY,uCAAG,WAAOJ,GAAP,iBAAAK,EAAA,yDACjBL,EAAEM,kBACIC,EAAW,IAAIC,UACZC,OAAO,YAAaZ,EAAKH,WAClCa,EAASE,OAAO,aAAcZ,EAAKF,YACnCY,EAASE,OAAO,iBAAkBZ,EAAKD,gBALtB,SAOM,UAAnBC,EAAKH,UAPQ,iCAQKgB,IAAMC,KAAK,mBAAoBJ,GARpC,OAQPK,EARO,OASbC,MAAMD,EAAIE,KAAKC,KATF,wBAYdF,MAAM,gBAZQ,0DAebA,MAAM,EAAD,IAfQ,0DAAH,sDAmBlB,OACI,cAAC,IAAD,UACI,cAAC,IAAD,UACA,eAAC,IAAD,CAAOG,SAAUZ,EAAjB,UACI,eAAC,IAAD,WACA,cAAC,IAAD,CAAMa,GAAG,KAAT,SACI,eAAC,IAAD,uBAEI,cAAC,IAAD,CACAC,GAAG,YACHhB,KAAK,YACLiB,YAAY,mBACZhB,MAAON,EAAKH,UACZ0B,SAAUrB,EACVsB,UAAQ,SAIZ,cAAC,IAAD,CAAMJ,GAAG,KAAT,SACA,eAAC,IAAD,kBAEI,cAAC,IAAD,CACAC,GAAG,aACHhB,KAAK,aACLiB,YAAY,uBACZhB,MAAON,EAAKF,WACZyB,SAAUrB,EACVsB,UAAQ,SAIhB,cAAC,IAAD,CAAMJ,GAAG,KAAT,SACI,eAAC,IAAD,kBAEI,cAAC,IAAD,CACAC,GAAG,iBACHI,KAAK,OACLC,OAAO,oBACPrB,KAAK,iBACLkB,SA9DI,SAACpB,GACzBF,EAAQ,2BAAKD,GAAN,IAAYD,eAAgBI,EAAEC,OAAOuB,MAAM,OA8D9BH,UAAQ,YAIhB,cAAC,IAAD,CAAMI,UAAU,gCAAhB,SACM,cAAC,IAAD,CACER,GAAG,KACHS,GAAG,IACHD,UAAU,iCAHZ,SAKE,eAAC,IAAD,CACEH,KAAK,SACLK,KAAK,KACLF,UAAU,OACVG,MAAM,OAJR,UAME,cAAC,IAAD,CAAO1B,KAAK,aANd","file":"static/js/8.52565b1d.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CForm,\r\n  CRow,\r\n  CCol,\r\n  CFormGroup,\r\n  CInput\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction MaintenanceAnnual() {\r\n    const state = useContext(GlobalState);\r\n    const [upld, setUpld] = useState({\r\n        machineId:\"\",\r\n        businessId:\"\",\r\n        acceptanceFile:\"\",\r\n    });\r\n    \r\n   const onChangeInput = (e) => {\r\n    try {\r\n      const { name, value } = e.target;\r\n      setUpld({ ...upld, [name]: value });\r\n    } catch {}\r\n  };\r\n  const onChangeFileInput = (e) => {\r\n    setUpld({ ...upld, acceptanceFile: e.target.files[0] });\r\n  };\r\n    \r\n    const onSubmitSave = async (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"machineId\", upld.machineId);\r\n        formData.append(\"businessId\", upld.businessId);\r\n        formData.append(\"acceptanceFile\", upld.acceptanceFile);\r\n      try {\r\n        if (upld.machineId !== \"11111\") {\r\n            const res = await axios.post(\"/business/upload\", formData);\r\n            alert(res.data.msg)\r\n        }\r\n        else {\r\n           alert(\"Wrong value!\")\r\n        }\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CCard>\r\n            <CCardBody>\r\n            <CForm onSubmit={onSubmitSave}>\r\n                <CRow>\r\n                <CCol xs=\"12\">\r\n                    <CFormGroup>\r\n                        machineId\r\n                        <CInput\r\n                        id=\"machineId\"\r\n                        name=\"machineId\"\r\n                        placeholder=\"Enter machineId.\"\r\n                        value={upld.machineId}\r\n                        onChange={onChangeInput}\r\n                        required\r\n                        />\r\n                    </CFormGroup>\r\n                    </CCol>\r\n                    <CCol xs=\"12\">\r\n                    <CFormGroup>\r\n                        Name\r\n                        <CInput\r\n                        id=\"businessId\"\r\n                        name=\"businessId\"\r\n                        placeholder=\"Enter sub machineId.\"\r\n                        value={upld.businessId}\r\n                        onChange={onChangeInput}\r\n                        required\r\n                        />\r\n                    </CFormGroup>\r\n                    </CCol>\r\n                <CCol xs=\"12\">\r\n                    <CFormGroup>\r\n                        File\r\n                        <CInput\r\n                        id=\"acceptanceFile\"\r\n                        type=\"file\"\r\n                        accept=\".png, .jpg, .jpeg\"\r\n                        name=\"acceptanceFile\"\r\n                        onChange={onChangeFileInput}\r\n                        required />\r\n                    </CFormGroup>\r\n                    </CCol>\r\n                </CRow>\r\n                <CRow className=\"d-flex justify-content-center\">\r\n                      <CCol\r\n                        xs=\"12\"\r\n                        sm=\"6\"\r\n                        className=\"d-flex justify-content-between\"\r\n                      >\r\n                        <CButton\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          className=\"px-4\"\r\n                          color=\"dark\"\r\n                        >\r\n                          <CIcon name=\"cil-save\" /> Save Detail\r\n                        </CButton>\r\n                      </CCol>\r\n                    </CRow>\r\n            </CForm>\r\n        </CCardBody>\r\n        </CCard>\r\n    )\r\n}\r\n\r\nexport default MaintenanceAnnual\r\n"],"sourceRoot":""}