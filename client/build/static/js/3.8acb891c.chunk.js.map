{"version":3,"sources":["Components/Business/BusinessOverview.js","Components/Business/BusinessRegistration.js"],"names":["BusinessOverview","props","defaultLayoutPluginInstance","defaultLayoutPlugin","business","sm","md","lg","className","tradeName","companyName","TIN","VAT","city","SubCity","kebele","woreda","buildingName","officeNumber","email","telephone","fax","branch","sw_Tech","TL_Image","workerUrl","fileUrl","plugins","BusinessRegistration","state","useContext","GlobalState","params","useParams","user","UserAPI","User","useState","businessDetail","ownerID","clientId","subCity","credentials","businesses","BusinessAPI","setBusiness","branchs","branchAPI","employees","UsersAPI","users","callback","setCallback","onEdit","setOnEdit","console","log","JSON","stringify","useEffect","businessId","forEach","bsns","_id","onChangeInput","e","target","name","value","SweetAlert","type","text","Swal","fire","position","background","icon","confirmButtonColor","showConfirmButton","onSubmitSaveBusinessDetail","a","preventDefault","formData","FormData","append","axios","put","res","data","msg","filter","filteredBusiness","length","post","response","xs","variant","onSubmit","action","encType","id","placeholder","onChange","required","userRole","map","branchName","employee","filteredEmployee","fName","mName","lName","htmlFor","accept","files","size","color","onClick"],"mappings":"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","file":"static/js/3.8acb891c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {\r\n  CForm,\r\n  CRow,\r\n  CFormGroup,\r\n  CLabel,\r\n  CButton,\r\n  CCol,\r\n  CCard,\r\n  CCardBody,\r\n  CTabs,\r\n  CCardHeader,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport { Viewer } from \"@react-pdf-viewer/core\"; // install this library\r\n// Plugins\r\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\"; // install this library\r\n// Import the styles\r\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\r\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\r\n// Worker\r\nimport { Worker } from \"@react-pdf-viewer/core\"; // install this library\r\nfunction BusinessOverview(props) {\r\n  const defaultLayoutPluginInstance = defaultLayoutPlugin();\r\n\r\n  const business = props;\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Business Name: </span>\r\n            <span>{business.tradeName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Campany Name: </span>\r\n            <span>{business.companyName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Business TIN: </span>\r\n            <span>{business.TIN}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Business VAT: </span>\r\n            <span>{business.VAT}</span>\r\n          </span>\r\n        </CCol>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Location City: </span>\r\n            <span>{business.city}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Sub City: </span>\r\n            <span>{business.SubCity}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Kebele: </span>\r\n            <span>{business.kebele}</span>\r\n          </span>\r\n\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Woreda: </span>\r\n            <span>{business.woreda}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Building Name: </span>\r\n            <span>{business.buildingName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Office Number: </span>\r\n            <span>{business.officeNumber}</span>\r\n          </span>\r\n        </CCol>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Email: </span>\r\n            <span>{business.email}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>telephone: </span>\r\n            <span>{business.telephone}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Fax: </span>\r\n            <span>{business.fax}</span>\r\n          </span>\r\n          <hr></hr>\r\n\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Jupiter Branch: </span>\r\n            <span>{business.branch}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Technician Id: </span>\r\n            <span>{business.sw_Tech}</span>\r\n          </span>\r\n        </CCol>\r\n\r\n        <CCol sm=\"12\">\r\n          <hr />\r\n          <h6> Certificate/ Business Trade license</h6>\r\n          <hr />\r\n          <div className=\"pdf-container\">\r\n            {/* show pdf conditionally (if we have one)  */}\r\n            {business.TL_Image && (\r\n              <>\r\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@2.9.359/build/pdf.worker.min.js\">\r\n                  <Viewer\r\n                    fileUrl={business.TL_Image}\r\n                    plugins={[defaultLayoutPluginInstance]}\r\n                  />\r\n                </Worker>\r\n              </>\r\n            )}\r\n\r\n            {/* if we dont have pdf or viewPdf state is null */}\r\n            {!business.TL_Image && <>No pdf file selected</>}\r\n          </div>\r\n          {/* <CImg\r\n            className=\"w-100\"\r\n            src={business.TL_Image}\r\n            alt={business.tradeName}\r\n          /> */}\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BusinessOverview;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport BusinessOverview from \"./BusinessOverview\";\r\n\r\nimport {\r\n  CForm,\r\n  CRow,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CSelect,\r\n  CButton,\r\n  CCol,\r\n  CNav,\r\n  CNavItem,\r\n  CNavLink,\r\n  CTabContent,\r\n  CTabPane,\r\n  CCard,\r\n  CCardBody,\r\n  CTabs,\r\n  CCardHeader,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst BusinessRegistration = () => {\r\n  const state = useContext(GlobalState);\r\n  const params = useParams();\r\n  const [user] = state.UserAPI.User;\r\n  const [credentials, setCredentials] = useState(\"\");\r\n\r\n  const businessDetail = {\r\n    ownerID: params.clientId,\r\n    tradeName: \"\",\r\n    companyName: \"\",\r\n    TIN: \"\",\r\n    VAT: \"\",\r\n    TL_Image: \"\",\r\n    city: \"\",\r\n    subCity: \"\",\r\n    kebele: \"\",\r\n    woreda: \"\",\r\n    buildingName: \"\",\r\n    officeNumber: \"\",\r\n    telephone: \"\",\r\n    email: \"\",\r\n    fax: \"\",\r\n    branch: user.branch,\r\n    credentials: \"Pending\",\r\n    sw_Tech: \"\",\r\n  };\r\n  const [businesses] = state.BusinessAPI.businesses;\r\n  const [business, setBusiness] = useState(businessDetail);\r\n\r\n  const [branchs] = state.branchAPI.branchs;\r\n  const [employees] = state.UsersAPI.users;\r\n\r\n  const [callback, setCallback] = state.BusinessAPI.callback;\r\n\r\n  const [onEdit, setOnEdit] = useState(false);\r\n\r\n  console.log(\"upper\" + JSON.stringify(business));\r\n\r\n  // useEffect(() => {\r\n  //   if (user.userRole === \"client\") {\r\n  //     businessDetail.ownerID = user._id;\r\n  //     setBusiness(businessDetail);\r\n  //   } else if (params.clientId) {\r\n  //     businessDetail.ownerID = params.clientId;\r\n  //     // businessDetail.companyName = params.clientId;\r\n  //     setBusiness(businessDetail);\r\n  //   }\r\n  // }, [user, params.clientId]);\r\n\r\n  useEffect(() => {\r\n    if (params.businessId) {\r\n      setOnEdit(true);\r\n      businesses.forEach((bsns) => {\r\n        if (bsns._id === params.businessId) {\r\n          setBusiness(bsns);\r\n        }\r\n      });\r\n    } else {\r\n      setOnEdit(false);\r\n      setBusiness(businessDetail);\r\n    }\r\n  }, [params.businessId, businesses]);\r\n\r\n  const onChangeInput = (e) => {\r\n    try {\r\n      const { name, value } = e.target;\r\n      setBusiness({ ...business, [name]: value });\r\n    } catch {}\r\n  };\r\n  const onChangeFileInput = (e) => {\r\n    setBusiness({ ...business, TL_Image: e.target.files[0] });\r\n  };\r\n\r\n  const SweetAlert = (type, text) => {\r\n    Swal.fire({\r\n      position: \"center\",\r\n      background: \"#EBEDEF\", // 2EB85C success // E55353 danger // 1E263C sidebar\r\n      icon: type,\r\n      text: text,\r\n      confirmButtonColor: \"#1E263C\",\r\n      showConfirmButton: false,\r\n      // timer: 1500,\r\n    });\r\n  };\r\n\r\n  const onSubmitSaveBusinessDetail = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"ownerID\", business.ownerID);\r\n    formData.append(\"TIN\", business.TIN);\r\n    formData.append(\"VAT\", business.VAT);\r\n    formData.append(\"tradeName\", business.tradeName);\r\n    formData.append(\"companyName\", business.companyName);\r\n    formData.append(\"TL_Image\", business.TL_Image);\r\n    formData.append(\"city\", business.city);\r\n    formData.append(\"subCity\", business.subCity);\r\n    formData.append(\"kebele\", business.kebele);\r\n    formData.append(\"woreda\", business.woreda);\r\n    formData.append(\"buildingName\", business.buildingName);\r\n    formData.append(\"officeNumber\", business.officeNumber);\r\n    formData.append(\"telephone\", business.telephone);\r\n    formData.append(\"email\", business.email);\r\n    formData.append(\"fax\", business.fax);\r\n    formData.append(\"branch\", business.branch);\r\n    formData.append(\"sw_Tech\", business.sw_Tech);\r\n    formData.append(\"credentials\", business.credentials);\r\n\r\n    try {\r\n      // console.log(\"Onsubmit\" + JSON.stringify(business));\r\n      if (onEdit) {\r\n        const res = await axios.put(\r\n          `/business/edit/${params.businessId}`,\r\n          formData\r\n        );\r\n        SweetAlert(\"success\", res.data.msg);\r\n        setCallback(!callback);\r\n      } else {\r\n        var newBusiness = businesses.filter(\r\n          (filteredBusiness) =>\r\n            filteredBusiness.TIN === business.TIN ||\r\n            filteredBusiness.VAT === business.VAT ||\r\n            filteredBusiness.tradeName === business.tradeName\r\n        );\r\n\r\n        if (newBusiness.length === 0) {\r\n          const res = await axios.post(\"/business/register\", formData);\r\n          SweetAlert(\"success\", res.data.msg);\r\n          setCallback(!callback);\r\n        } else {\r\n          SweetAlert(\r\n            \"error\",\r\n            `TIN, business name or the VAT; one of them are taken by another business please check the details! `\r\n          );\r\n        }\r\n      }\r\n    } catch (error) {\r\n      SweetAlert(\"error\", error.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol xs=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader>Enter the detail of the business.</CCardHeader>\r\n          <CCardBody>\r\n            <CTabs>\r\n              <CNav variant=\"tabs\">\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-building\"></CIcon>Profile\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-location-pin\"></CIcon>Address\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-contact\"></CIcon>Others\r\n                  </CNavLink>\r\n                </CNavItem>\r\n\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-applications\"></CIcon>Overview\r\n                  </CNavLink>\r\n                </CNavItem>\r\n              </CNav>\r\n              <CForm\r\n                onSubmit={onSubmitSaveBusinessDetail}\r\n                action=\"POST\"\r\n                encType=\"multipart/form-data\"\r\n              >\r\n                <CTabContent className=\"my-3\">\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> Company Name </CLabel>\r\n                          <CInput\r\n                            id=\"companyName\"\r\n                            name=\"companyName\"\r\n                            placeholder=\"Enter campany name\"\r\n                            value={business.companyName}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> Trade Name </CLabel>\r\n                          <CInput\r\n                            id=\"tradeName\"\r\n                            name=\"tradeName\"\r\n                            placeholder=\"Enter unique bussiness name.\"\r\n                            value={business.tradeName}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> TIN </CLabel>\r\n                          <CInput\r\n                            id=\"TIN\"\r\n                            name=\"TIN\"\r\n                            placeholder=\"Enter bussiness TIN.\"\r\n                            value={business.TIN}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> VAT </CLabel>\r\n                          <CInput\r\n                            id=\"VAT\"\r\n                            name=\"VAT\"\r\n                            placeholder=\"Enter bussiness VAT.\"\r\n                            value={business.VAT}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> City </CLabel>\r\n                          <CInput\r\n                            id=\"city\"\r\n                            name=\"city\"\r\n                            placeholder=\"Enter city where the business is located.\"\r\n                            value={business.city}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Subcity </CLabel>\r\n                          <CInput\r\n                            id=\"subCity\"\r\n                            name=\"subCity\"\r\n                            placeholder=\"Enter subcity.\"\r\n                            value={business.subCity}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Kebele </CLabel>\r\n                          <CInput\r\n                            id=\"kebele\"\r\n                            name=\"kebele\"\r\n                            placeholder=\"Enter kebele\"\r\n                            value={business.kebele}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Woreda </CLabel>\r\n                          <CInput\r\n                            id=\"woreda\"\r\n                            name=\"woreda\"\r\n                            placeholder=\"Enter woreda.\"\r\n                            value={business.woreda}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Building Name </CLabel>\r\n                          <CInput\r\n                            id=\"buildingName\"\r\n                            name=\"buildingName\"\r\n                            placeholder=\"Enter building name.\"\r\n                            value={business.buildingName}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Office Number </CLabel>\r\n                          <CInput\r\n                            id=\"officeNumber\"\r\n                            name=\"officeNumber\"\r\n                            placeholder=\"Enter office  number.\"\r\n                            value={business.officeNumber}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n\r\n                      <CCol xs=\"12\">\r\n                        Contacts of the business.\r\n                        <hr />\r\n                      </CCol>\r\n\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Email </CLabel>\r\n                          <CInput\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Enter email address.\"\r\n                            value={business.email}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Telephone Number </CLabel>\r\n                          <CInput\r\n                            id=\"telephone\"\r\n                            name=\"telephone\"\r\n                            placeholder=\"Enter telephone number.\"\r\n                            value={business.telephone}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Fax </CLabel>\r\n                          <CInput\r\n                            id=\"fax\"\r\n                            name=\"fax\"\r\n                            placeholder=\"enter fax.\"\r\n                            value={business.fax}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      {user.userRole === \"client\" && (\r\n                        <CCol xs=\"12\" md=\"6\">\r\n                          <CFormGroup>\r\n                            <CLabel>To which jupter branch?</CLabel>\r\n                            <CSelect\r\n                              aria-label=\"Default select example\"\r\n                              id=\"branch\"\r\n                              name=\"branch\"\r\n                              onChange={onChangeInput}\r\n                              value={business.branch}\r\n                              required\r\n                            >\r\n                              <option value=\"\">Select branch...</option>\r\n                              {branchs.map((branch) => (\r\n                                <option value={branch._id} key={branch._id}>\r\n                                  {branch.branchName}\r\n                                </option>\r\n                              ))}\r\n                            </CSelect>\r\n                          </CFormGroup>\r\n                        </CCol>\r\n                      )}\r\n                      {onEdit && user.userRole === \"branch-admin\" && (\r\n                        <CCol xs=\"12\" md=\"6\">\r\n                          <CFormGroup>\r\n                            <CLabel>\r\n                              Assigne technician for this bussiness.\r\n                            </CLabel>\r\n                            <CSelect\r\n                              aria-label=\"Default select example\"\r\n                              id=\"sw_Tech\"\r\n                              name=\"sw_Tech\"\r\n                              onChange={onChangeInput}\r\n                              value={business.sw_Tech}\r\n                              // required\r\n                            >\r\n                              <option value=\"\">Select technician...</option>\r\n                              {employees\r\n                                .filter(\r\n                                  (employee) =>\r\n                                    // employee.branch === \"60f92d0bb529a5128419de93\" &&\r\n                                    employee.userRole === \"technician\"\r\n                                )\r\n                                .map((filteredEmployee) => (\r\n                                  <option\r\n                                    value={filteredEmployee._id}\r\n                                    key={filteredEmployee._id}\r\n                                  >\r\n                                    {filteredEmployee.fName}{\" \"}\r\n                                    {filteredEmployee.mName}{\" \"}\r\n                                    {filteredEmployee.lName}\r\n                                  </option>\r\n                                ))}\r\n                            </CSelect>\r\n                          </CFormGroup>\r\n                        </CCol>\r\n                      )}\r\n                      <CCol xs=\"12\">\r\n                        Upload neccessary files of business\r\n                        <hr />\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel htmlFor=\"formFile\">\r\n                            File size not more than (5MB)\r\n                          </CLabel>\r\n                          <CInput\r\n                            id=\"TL_Image\"\r\n                            type=\"file\"\r\n                            accept=\".png, .jpg, .jpeg, .pdf, .docx\"\r\n                            name=\"TL_Image\"\r\n                            onChange={onChangeFileInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                    <CRow className=\"d-flex justify-content-center\">\r\n                      <CCol\r\n                        xs=\"12\"\r\n                        sm=\"6\"\r\n                        className=\"d-flex justify-content-between\"\r\n                      >\r\n                        <CButton\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          className=\"px-4\"\r\n                          color=\"dark\"\r\n                        >\r\n                          <CIcon name=\"cil-save\" />\r\n                          {onEdit ? \"Save Cahnges\" : \"Send Detail\"}\r\n                        </CButton>\r\n                        {!onEdit && (\r\n                          <CButton\r\n                            size=\"sm\"\r\n                            className=\"px-4\"\r\n                            color=\"danger\"\r\n                            onClick={() => setBusiness(businessDetail)}\r\n                          >\r\n                            <CIcon name=\"cil-x\" /> Clear All\r\n                          </CButton>\r\n                        )}\r\n                      </CCol>\r\n                      <CCol sm=\"12\">\r\n                        <hr />\r\n                        <span className=\"text-muted\">\r\n                          Fill all the forms properly, And send the detail. Then\r\n                          wait until the admin analysed the document and get you\r\n                          notified. This may take an hours or a day.\r\n                        </span>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n                  <CTabPane>\r\n                    <BusinessOverview {...business} />\r\n                  </CTabPane>\r\n                </CTabContent>\r\n              </CForm>\r\n            </CTabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default BusinessRegistration;\r\n"],"sourceRoot":""}