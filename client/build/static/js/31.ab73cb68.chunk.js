(this["webpackJsonpjupiter-trading-fmcms"]=this["webpackJsonpjupiter-trading-fmcms"]||[]).push([[31],{794:function(e,c,t){"use strict";t.r(c);var n=t(16),s=t.n(n),a=t(24),r=t(168),i=t(42),l=t(13),j=t(1),b=t(23),d=t.n(b),o=t(90),m=t(22),u=t(684),x=t(685),h=t(165),O=t.n(h),p=t(11),f={fName:"",mName:"",lName:"",gender:"",photo:"/public/images/ng.png",branch:"",city:"",subCity:"",kebele:"",woreda:"",phoneNumber:"",email:"",userRole:""};c.default=function(e){var c=Object(m.h)(),t=Object(j.useContext)(o.b),n=Object(l.a)(t.token,1)[0],b=Object(l.a)(t.branchAPI.branchs,1)[0],h=Object(l.a)(t.UsersAPI.callback,2),v=h[0],g=h[1],N=Object(l.a)(t.UsersAPI.users,1)[0],w=Object(j.useState)(f),y=Object(l.a)(w,2),C=y[0],k=y[1],D=Object(j.useState)(!1),E=Object(l.a)(D,2),S=E[0],A=E[1];Object(j.useEffect)((function(){c.id?(A(!0),N.forEach((function(e){e._id===c.id&&k(e)}))):(A(!1),k(f))}),[c.id,N]);var q=function(e,c){O.a.fire({position:"center",background:"#EBEDEF",icon:e,text:c,confirmButtonColor:"#1E263C",showConfirmButton:!1})},F=function(e){var c=e.target,t=c.name,n=c.value;k(Object(i.a)(Object(i.a)({},C),{},Object(r.a)({},t,n)))},R=function(){var e=Object(a.a)(s.a.mark((function e(t){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!S){e.next=10;break}return e.next=5,d.a.put("/user/edit/".concat(c.id),Object(i.a)({},C),{headers:{Authorization:n}});case 5:a=e.sent,g(!v),q("success",a.data.msg),e.next=15;break;case 10:return e.next=12,d.a.post("/user/register",Object(i.a)({},C));case 12:r=e.sent,g(!v),q("success",r.data.msg);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),q("error",e.t0.response.data.msg);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(c){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(u.h,{children:[Object(p.jsxs)(u.k,{className:"d-flex justify-content-between",children:[Object(p.jsxs)(u.I,{children:["Employee Registration",Object(p.jsx)("small",{children:" Form"})]}),Object(p.jsxs)(u.e,{to:"/Employee/List",size:"sm",variant:"outline",color:"dark",children:[Object(p.jsx)(x.a,{name:"cil-list-numbered"})," Employee List"]})]}),Object(p.jsx)(u.i,{children:Object(p.jsxs)(u.v,{onSubmit:R,children:[Object(p.jsxs)(u.T,{children:[Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["First name",Object(p.jsx)(u.D,{id:"fName",name:"fName",onChange:F,value:C.fName,required:!0})]})}),Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["Middle Name",Object(p.jsx)(u.D,{id:"mName",name:"mName",onChange:F,value:C.mName,required:!0})]})}),Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["Last Name",Object(p.jsx)(u.D,{id:"lName",name:"lName",onChange:F,value:C.lName})]})}),Object(p.jsx)(u.l,{xs:"12",md:"3",children:Object(p.jsxs)(u.w,{children:["Gender",Object(p.jsxs)(u.U,{"aria-label":"Default select example",id:"gender",name:"gender",onChange:F,value:C.gender,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select gender"}),Object(p.jsx)("option",{value:"Male",children:"Male"}),Object(p.jsx)("option",{value:"Female",children:"Fmale"})]})]})}),Object(p.jsx)(u.l,{xs:"12",md:"5",children:Object(p.jsxs)(u.w,{children:["Email",Object(p.jsx)(u.D,{type:"email",id:"email",name:"email",onChange:F,value:C.email,required:!0})]})}),Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["Phone-number",Object(p.jsx)(u.D,{id:"phoneNumber",name:"phoneNumber",onChange:F,value:C.phoneNumber,required:!0})]})}),Object(p.jsx)(u.l,{xs:"12",md:"3",children:Object(p.jsxs)(u.w,{children:["Address City",Object(p.jsx)(u.D,{id:"city",name:"city",onChange:F,value:C.city})]})}),Object(p.jsx)(u.l,{xs:"12",md:"3",children:Object(p.jsxs)(u.w,{children:["Sub city",Object(p.jsx)(u.D,{id:"subCity",name:"subCity",onChange:F,value:C.subCity})]})}),Object(p.jsx)(u.l,{xs:"12",md:"3",children:Object(p.jsxs)(u.w,{children:["Kebele",Object(p.jsx)(u.D,{id:"kebele",name:"kebele",onChange:F,value:C.kebele})]})}),Object(p.jsx)(u.l,{xs:"12",md:"3",children:Object(p.jsxs)(u.w,{children:["Woreda",Object(p.jsx)(u.D,{id:"woreda",name:"woreda",onChange:F,value:C.woreda})]})}),Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["Employee task",Object(p.jsxs)(u.U,{"aria-label":"Default select example",id:"userRole",name:"userRole",onChange:F,value:C.userRole,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select employe task"}),Object(p.jsx)("option",{value:"sales",children:"sales"}),Object(p.jsx)("option",{value:"technician",children:"Technician"}),Object(p.jsx)("option",{value:"branch-admin",children:"Branch Admin"}),Object(p.jsx)("option",{value:"super-admin",children:"Super Admin"})]})]})}),Object(p.jsx)(u.l,{xs:"12",md:"4",children:Object(p.jsxs)(u.w,{children:["Employee branch",Object(p.jsxs)(u.U,{"aria-label":"Default select example",id:"branch",name:"branch",onChange:F,value:C.branch,required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select employee branch"}),b.map((function(e){return Object(p.jsx)("option",{value:e._id,children:e.branchName},e._id)}))]})]})})]}),Object(p.jsx)("br",{}),Object(p.jsx)(u.T,{className:"d-flex justify-content-center",children:Object(p.jsxs)(u.l,{xs:"12",sm:"6",className:"d-flex justify-content-between",children:[Object(p.jsxs)(u.e,{type:"submit",size:"sm",className:"px-4",color:"success",children:[Object(p.jsx)(x.a,{name:"cil-save"})," Save Detail"]}),!S&&Object(p.jsxs)(u.e,{size:"sm",className:"px-4",color:"danger",onClick:function(){k(Object(i.a)({user:C},f))},children:[Object(p.jsx)(x.a,{name:"cil-x"})," Clear All"]})]})})]})}),Object(p.jsx)(u.j,{})]})})}}}]);
//# sourceMappingURL=31.ab73cb68.chunk.js.map