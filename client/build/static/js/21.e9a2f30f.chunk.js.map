{"version":3,"sources":["Components/MachineReturn/RequestMachineReturn.js"],"names":["RequestMachineReturn","useContext","GlobalState","params","useParams","useState","salesId","returnReason","acceptanceFile","retuenMachineReason","setretuenMachineReason","onSubmitSave","e","a","preventDefault","formData","FormData","append","axios","post","res","alert","data","msg","className","sm","md","lg","onSubmit","xs","rows","id","name","placeholder","value","onChange","target","required","type","accept","files","size","color"],"mappings":"+QAiHeA,UA7Ff,WACgBC,qBAAWC,KAAzB,IACMC,EAASC,cACf,EAAsDC,mBAAS,CAC7DC,QAASH,EAAOG,QAChBC,aAAc,GACdC,eAAgB,KAHlB,mBAAOC,EAAP,KAA4BC,EAA5B,KAoBMC,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACnBD,EAAEE,kBACIC,EAAW,IAAIC,UACZC,OAAO,UAAWR,EAAoBH,SAC/CS,EAASE,OAAO,eAAgBR,EAAoBF,cACpDQ,EAASE,OAAO,iBAAkBR,EAAoBD,gBALnC,kBAOCU,IAAMC,KACtB,mCACAJ,GATe,OAOXK,EAPW,OAWjBC,MAAMD,EAAIE,KAAKC,KAXE,kDAajBF,MAAM,EAAD,IAbY,0DAAH,sDAiBlB,OACE,cAAC,IAAD,CAAMG,UAAU,gCAAhB,SACE,eAAC,IAAD,CAAOC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAA1B,UACE,cAAC,IAAD,UACE,+DAEF,cAAC,IAAD,UACE,eAAC,IAAD,CAAOC,SAAUjB,EAAjB,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAMkB,GAAG,KAAT,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQL,UAAU,aAAlB,+CAGA,cAAC,KAAD,CACEM,KAAK,IACLC,GAAG,eACHC,KAAK,eACLC,YAAY,+DACZC,MAAOzB,EAAoBF,aAC3B4B,SAnDI,SAACvB,GACrB,IACE,MAAwBA,EAAEwB,OAAlBJ,EAAR,EAAQA,KAAME,EAAd,EAAcA,MACdxB,EAAuB,2BAAKD,GAAN,kBAA4BuB,EAAOE,KACzD,YAgDcG,UAAQ,SAId,cAAC,IAAD,CAAMR,GAAG,KAAT,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQL,UAAU,aAAlB,gCACA,cAAC,IAAD,CACEO,GAAG,iBACHO,KAAK,OACLC,OAAO,oBACPP,KAAK,iBACLG,SAzDQ,SAACvB,GACzBF,EAAuB,2BAClBD,GADiB,IAEpBD,eAAgBI,EAAEwB,OAAOI,MAAM,OAuDjBH,UAAQ,YAKhB,cAAC,IAAD,CAAMb,UAAU,gCAAhB,SACE,cAAC,IAAD,CAAMK,GAAG,KAAKJ,GAAG,IAAID,UAAU,iCAA/B,SACE,eAAC,IAAD,CAASc,KAAK,SAASG,KAAK,KAAKjB,UAAU,OAAOkB,MAAM,OAAxD,UACE,cAAC,IAAD,CAAOV,KAAK,aADd","file":"static/js/21.e9a2f30f.chunk.js","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CForm,\r\n  CRow,\r\n  CCol,\r\n  CFormGroup,\r\n  CInput,\r\n  CTextarea,\r\n  CCardHeader,\r\n  CLabel,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nfunction RequestMachineReturn() {\r\n  const state = useContext(GlobalState);\r\n  const params = useParams();\r\n  const [retuenMachineReason, setretuenMachineReason] = useState({\r\n    salesId: params.salesId,\r\n    returnReason: \"\",\r\n    acceptanceFile: \"\",\r\n  });\r\n\r\n  const onChangeInput = (e) => {\r\n    try {\r\n      const { name, value } = e.target;\r\n      setretuenMachineReason({ ...retuenMachineReason, [name]: value });\r\n    } catch {}\r\n  };\r\n\r\n  const onChangeFileInput = (e) => {\r\n    setretuenMachineReason({\r\n      ...retuenMachineReason,\r\n      acceptanceFile: e.target.files[0],\r\n    });\r\n  };\r\n\r\n  const onSubmitSave = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"salesId\", retuenMachineReason.salesId);\r\n    formData.append(\"returnReason\", retuenMachineReason.returnReason);\r\n    formData.append(\"acceptanceFile\", retuenMachineReason.acceptanceFile);\r\n    try {\r\n      const res = await axios.post(\r\n        \"/business/return_machine_request\",\r\n        formData\r\n      );\r\n      alert(res.data.msg);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CCol className=\"d-flex justify-content-center\">\r\n      <CCard sm=\"12\" md=\"10\" lg=\"8\">\r\n        <CCardHeader>\r\n          <h6>Machine return request form</h6>\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CForm onSubmit={onSubmitSave}>\r\n            <CRow>\r\n              <CCol xs=\"12\">\r\n                <CFormGroup>\r\n                  <CLabel className=\"text-muted\">\r\n                    Your reason to return the machine\r\n                  </CLabel>\r\n                  <CTextarea\r\n                    rows=\"3\"\r\n                    id=\"returnReason\"\r\n                    name=\"returnReason\"\r\n                    placeholder=\"Enter a clear reason why you are returning back the machine!\"\r\n                    value={retuenMachineReason.returnReason}\r\n                    onChange={onChangeInput}\r\n                    required\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n              <CCol xs=\"12\">\r\n                <CFormGroup>\r\n                  <CLabel className=\"text-muted\">Reason Certificate</CLabel>\r\n                  <CInput\r\n                    id=\"acceptanceFile\"\r\n                    type=\"file\"\r\n                    accept=\".png, .jpg, .jpeg\"\r\n                    name=\"acceptanceFile\"\r\n                    onChange={onChangeFileInput}\r\n                    required\r\n                  />\r\n                </CFormGroup>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow className=\"d-flex justify-content-center\">\r\n              <CCol xs=\"12\" sm=\"6\" className=\"d-flex justify-content-between\">\r\n                <CButton type=\"submit\" size=\"sm\" className=\"px-4\" color=\"dark\">\r\n                  <CIcon name=\"cil-save\" /> Send Request\r\n                </CButton>\r\n              </CCol>\r\n            </CRow>\r\n          </CForm>\r\n        </CCardBody>\r\n      </CCard>\r\n    </CCol>\r\n  );\r\n}\r\n\r\nexport default RequestMachineReturn;\r\n"],"sourceRoot":""}