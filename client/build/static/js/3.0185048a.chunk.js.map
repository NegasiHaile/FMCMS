{"version":3,"sources":["Components/Business/BusinessOverview.js","Components/Business/BusinessRegistration.js"],"names":["BusinessOverview","props","defaultLayoutPluginInstance","defaultLayoutPlugin","business","useState","setPdfFileError","TL_Image","viewPdf","setViewPdf","useEffect","includes","type","reader","FileReader","readAsDataURL","onloadend","e","target","result","sm","md","lg","className","companyName","tradeName","TIN","VAT","city","SubCity","kebele","woreda","buildingName","officeNumber","email","telephone","fax","branch","sw_Tech","workerUrl","fileUrl","plugins","BusinessRegistration","state","useContext","GlobalState","params","useParams","user","UserAPI","User","businessDetail","ownerID","clientId","subCity","credentials","businesses","BusinessAPI","setBusiness","branchs","branchAPI","employees","UsersAPI","users","callback","setCallback","onEdit","setOnEdit","console","log","JSON","stringify","businessId","forEach","bsns","_id","onChangeInput","name","value","SweetAlert","text","Swal","fire","position","background","icon","confirmButtonColor","showConfirmButton","onSubmitSaveBusinessDetail","a","preventDefault","formData","FormData","append","axios","put","res","data","msg","filter","filteredBusiness","length","post","response","xs","variant","onSubmit","action","encType","id","placeholder","onChange","required","userRole","map","branchName","employee","filteredEmployee","fName","mName","lName","htmlFor","accept","files","size","color","onClick"],"mappings":"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","file":"static/js/3.0185048a.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  CForm,\r\n  CRow,\r\n  CFormGroup,\r\n  CLabel,\r\n  CButton,\r\n  CCol,\r\n  CCard,\r\n  CCardBody,\r\n  CTabs,\r\n  CCardHeader,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport { Viewer } from \"@react-pdf-viewer/core\"; // install this library\r\n// Plugins\r\nimport { defaultLayoutPlugin } from \"@react-pdf-viewer/default-layout\"; // install this library\r\n// Import the styles\r\nimport \"@react-pdf-viewer/core/lib/styles/index.css\";\r\nimport \"@react-pdf-viewer/default-layout/lib/styles/index.css\";\r\n// Worker\r\nimport { Worker } from \"@react-pdf-viewer/core\"; // install this library\r\nfunction BusinessOverview(props) {\r\n  const defaultLayoutPluginInstance = defaultLayoutPlugin();\r\n\r\n  const business = props;\r\n\r\n  // for onchange event\r\n  // const [pdfFile, setPdfFile] = useState(business.TL_Image);\r\n  const [pdfFileError, setPdfFileError] = useState(\"\");\r\n\r\n  // for submit event\r\n  const [viewPdf, setViewPdf] = useState(business.TL_Image);\r\n\r\n  // onchange event\r\n  useEffect(() => {\r\n    const fileType = [\"application/pdf\"];\r\n    if (business.TL_Image && fileType.includes(business.TL_Image.type)) {\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(business.TL_Image);\r\n      reader.onloadend = (e) => {\r\n        setViewPdf(e.target.result);\r\n        setPdfFileError(\"\");\r\n      };\r\n    } else {\r\n      setViewPdf(business.TL_Image);\r\n      setPdfFileError(\"Please select valid pdf file\");\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Campany Name: </span>\r\n            <span>{business.companyName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Trade Name: </span>\r\n            <span>{business.tradeName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Business TIN: </span>\r\n            <span>{business.TIN}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Business VAT: </span>\r\n            <span>{business.VAT}</span>\r\n          </span>\r\n        </CCol>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Location City: </span>\r\n            <span>{business.city}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Sub City: </span>\r\n            <span>{business.SubCity}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Kebele: </span>\r\n            <span>{business.kebele}</span>\r\n          </span>\r\n\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Woreda: </span>\r\n            <span>{business.woreda}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Building Name: </span>\r\n            <span>{business.buildingName}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Office Number: </span>\r\n            <span>{business.officeNumber}</span>\r\n          </span>\r\n        </CCol>\r\n        <CCol sm=\"12\" md=\"6\" lg=\"4\">\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Email: </span>\r\n            <span>{business.email}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>telephone: </span>\r\n            <span>{business.telephone}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Fax: </span>\r\n            <span>{business.fax}</span>\r\n          </span>\r\n          <hr></hr>\r\n\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Jupiter Branch: </span>\r\n            <span>{business.branch}</span>\r\n          </span>\r\n          <span className=\"d-flex justify-content-between\">\r\n            <span>Technician Id: </span>\r\n            <span>{business.sw_Tech}</span>\r\n          </span>\r\n        </CCol>\r\n\r\n        <CCol sm=\"12\">\r\n          <hr />\r\n          <h6> Certificate/ Business Trade license</h6>\r\n          <hr />\r\n          <div className=\"pdf-container\">\r\n            {/* show pdf conditionally (if we have one)  */}\r\n            {viewPdf && (\r\n              <>\r\n                <Worker workerUrl=\"https://unpkg.com/pdfjs-dist@2.9.359/build/pdf.worker.min.js\">\r\n                  <Viewer\r\n                    fileUrl={viewPdf}\r\n                    plugins={[defaultLayoutPluginInstance]}\r\n                  />\r\n                </Worker>\r\n              </>\r\n            )}\r\n\r\n            {/* if we dont have pdf or viewPdf state is null */}\r\n            {!viewPdf && <h5>No pdf file selected</h5>}\r\n          </div>\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default BusinessOverview;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { GlobalState } from \"../../GlobalState\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport BusinessOverview from \"./BusinessOverview\";\r\n\r\nimport {\r\n  CForm,\r\n  CRow,\r\n  CFormGroup,\r\n  CLabel,\r\n  CInput,\r\n  CSelect,\r\n  CButton,\r\n  CCol,\r\n  CNav,\r\n  CNavItem,\r\n  CNavLink,\r\n  CTabContent,\r\n  CTabPane,\r\n  CCard,\r\n  CCardBody,\r\n  CTabs,\r\n  CCardHeader,\r\n  CImg,\r\n} from \"@coreui/react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst BusinessRegistration = () => {\r\n  const state = useContext(GlobalState);\r\n  const params = useParams();\r\n  const [user] = state.UserAPI.User;\r\n  const [credentials, setCredentials] = useState(\"\");\r\n\r\n  const businessDetail = {\r\n    ownerID: params.clientId,\r\n    tradeName: \"\",\r\n    companyName: \"\",\r\n    TIN: \"\",\r\n    VAT: \"\",\r\n    TL_Image: \"\",\r\n    city: \"\",\r\n    subCity: \"\",\r\n    kebele: \"\",\r\n    woreda: \"\",\r\n    buildingName: \"\",\r\n    officeNumber: \"\",\r\n    telephone: \"\",\r\n    email: \"\",\r\n    fax: \"\",\r\n    branch: user.branch,\r\n    credentials: \"Pending\",\r\n    sw_Tech: \"\",\r\n  };\r\n  const [businesses] = state.BusinessAPI.businesses;\r\n  const [business, setBusiness] = useState(businessDetail);\r\n\r\n  const [branchs] = state.branchAPI.branchs;\r\n  const [employees] = state.UsersAPI.users;\r\n\r\n  const [callback, setCallback] = state.BusinessAPI.callback;\r\n\r\n  const [onEdit, setOnEdit] = useState(false);\r\n\r\n  console.log(\"upper\" + JSON.stringify(business));\r\n\r\n  // useEffect(() => {\r\n  //   if (user.userRole === \"client\") {\r\n  //     businessDetail.ownerID = user._id;\r\n  //     setBusiness(businessDetail);\r\n  //   } else if (params.clientId) {\r\n  //     businessDetail.ownerID = params.clientId;\r\n  //     // businessDetail.companyName = params.clientId;\r\n  //     setBusiness(businessDetail);\r\n  //   }\r\n  // }, [user, params.clientId]);\r\n\r\n  useEffect(() => {\r\n    if (params.businessId) {\r\n      setOnEdit(true);\r\n      businesses.forEach((bsns) => {\r\n        if (bsns._id === params.businessId) {\r\n          setBusiness(bsns);\r\n        }\r\n      });\r\n    } else {\r\n      setOnEdit(false);\r\n      setBusiness(businessDetail);\r\n    }\r\n  }, [params.businessId, businesses]);\r\n\r\n  const onChangeInput = (e) => {\r\n    try {\r\n      const { name, value } = e.target;\r\n      setBusiness({ ...business, [name]: value });\r\n    } catch {}\r\n  };\r\n  const onChangeFileInput = (e) => {\r\n    setBusiness({ ...business, TL_Image: e.target.files[0] });\r\n  };\r\n\r\n  const SweetAlert = (type, text) => {\r\n    Swal.fire({\r\n      position: \"center\",\r\n      background: \"#EBEDEF\", // 2EB85C success // E55353 danger // 1E263C sidebar\r\n      icon: type,\r\n      text: text,\r\n      confirmButtonColor: \"#1E263C\",\r\n      showConfirmButton: false,\r\n      // timer: 1500,\r\n    });\r\n  };\r\n\r\n  const onSubmitSaveBusinessDetail = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"ownerID\", business.ownerID);\r\n    formData.append(\"TIN\", business.TIN);\r\n    formData.append(\"VAT\", business.VAT);\r\n    formData.append(\"tradeName\", business.tradeName);\r\n    formData.append(\"companyName\", business.companyName);\r\n    formData.append(\"TL_Image\", business.TL_Image);\r\n    formData.append(\"city\", business.city);\r\n    formData.append(\"subCity\", business.subCity);\r\n    formData.append(\"kebele\", business.kebele);\r\n    formData.append(\"woreda\", business.woreda);\r\n    formData.append(\"buildingName\", business.buildingName);\r\n    formData.append(\"officeNumber\", business.officeNumber);\r\n    formData.append(\"telephone\", business.telephone);\r\n    formData.append(\"email\", business.email);\r\n    formData.append(\"fax\", business.fax);\r\n    formData.append(\"branch\", business.branch);\r\n    formData.append(\"sw_Tech\", business.sw_Tech);\r\n    formData.append(\"credentials\", business.credentials);\r\n\r\n    try {\r\n      // console.log(\"Onsubmit\" + JSON.stringify(business));\r\n      if (onEdit) {\r\n        const res = await axios.put(\r\n          `/business/edit/${params.businessId}`,\r\n          formData\r\n        );\r\n        SweetAlert(\"success\", res.data.msg);\r\n        setCallback(!callback);\r\n      } else {\r\n        var newBusiness = businesses.filter(\r\n          (filteredBusiness) =>\r\n            filteredBusiness.TIN === business.TIN ||\r\n            filteredBusiness.VAT === business.VAT ||\r\n            filteredBusiness.tradeName === business.tradeName\r\n        );\r\n\r\n        if (newBusiness.length === 0) {\r\n          const res = await axios.post(\"/business/register\", formData);\r\n          SweetAlert(\"success\", res.data.msg);\r\n          setCallback(!callback);\r\n        } else {\r\n          SweetAlert(\r\n            \"error\",\r\n            `TIN, business name or the VAT; one of them are taken by another business please check the details! `\r\n          );\r\n        }\r\n      }\r\n    } catch (error) {\r\n      SweetAlert(\"error\", error.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CRow>\r\n      <CCol xs=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader>Enter the detail of the business.</CCardHeader>\r\n          <CCardBody>\r\n            <CTabs>\r\n              <CNav variant=\"tabs\">\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-building\"></CIcon>Profile\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-location-pin\"></CIcon>Address\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-contact\"></CIcon>Others\r\n                  </CNavLink>\r\n                </CNavItem>\r\n\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-applications\"></CIcon>Overview\r\n                  </CNavLink>\r\n                </CNavItem>\r\n              </CNav>\r\n              <CForm\r\n                onSubmit={onSubmitSaveBusinessDetail}\r\n                action=\"POST\"\r\n                encType=\"multipart/form-data\"\r\n              >\r\n                <CTabContent className=\"my-3\">\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> Company Name </CLabel>\r\n                          <CInput\r\n                            id=\"companyName\"\r\n                            name=\"companyName\"\r\n                            placeholder=\"Enter campany name\"\r\n                            value={business.companyName}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> Trade Name </CLabel>\r\n                          <CInput\r\n                            id=\"tradeName\"\r\n                            name=\"tradeName\"\r\n                            placeholder=\"Enter unique bussiness name.\"\r\n                            value={business.tradeName}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> TIN </CLabel>\r\n                          <CInput\r\n                            id=\"TIN\"\r\n                            name=\"TIN\"\r\n                            placeholder=\"Enter bussiness TIN.\"\r\n                            value={business.TIN}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel> VAT </CLabel>\r\n                          <CInput\r\n                            id=\"VAT\"\r\n                            name=\"VAT\"\r\n                            placeholder=\"Enter bussiness VAT.\"\r\n                            value={business.VAT}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> City </CLabel>\r\n                          <CInput\r\n                            id=\"city\"\r\n                            name=\"city\"\r\n                            placeholder=\"Enter city where the business is located.\"\r\n                            value={business.city}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Subcity </CLabel>\r\n                          <CInput\r\n                            id=\"subCity\"\r\n                            name=\"subCity\"\r\n                            placeholder=\"Enter subcity.\"\r\n                            value={business.subCity}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Kebele </CLabel>\r\n                          <CInput\r\n                            id=\"kebele\"\r\n                            name=\"kebele\"\r\n                            placeholder=\"Enter kebele\"\r\n                            value={business.kebele}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Woreda </CLabel>\r\n                          <CInput\r\n                            id=\"woreda\"\r\n                            name=\"woreda\"\r\n                            placeholder=\"Enter woreda.\"\r\n                            value={business.woreda}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Building Name </CLabel>\r\n                          <CInput\r\n                            id=\"buildingName\"\r\n                            name=\"buildingName\"\r\n                            placeholder=\"Enter building name.\"\r\n                            value={business.buildingName}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Office Number </CLabel>\r\n                          <CInput\r\n                            id=\"officeNumber\"\r\n                            name=\"officeNumber\"\r\n                            placeholder=\"Enter office  number.\"\r\n                            value={business.officeNumber}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n\r\n                      <CCol xs=\"12\">\r\n                        Contacts of the business.\r\n                        <hr />\r\n                      </CCol>\r\n\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Email </CLabel>\r\n                          <CInput\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Enter email address.\"\r\n                            value={business.email}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Telephone Number </CLabel>\r\n                          <CInput\r\n                            id=\"telephone\"\r\n                            name=\"telephone\"\r\n                            placeholder=\"Enter telephone number.\"\r\n                            value={business.telephone}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"4\">\r\n                        <CFormGroup>\r\n                          <CLabel> Fax </CLabel>\r\n                          <CInput\r\n                            id=\"fax\"\r\n                            name=\"fax\"\r\n                            placeholder=\"enter fax.\"\r\n                            value={business.fax}\r\n                            onChange={onChangeInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n                  <CTabPane>\r\n                    <CRow>\r\n                      {user.userRole === \"client\" && (\r\n                        <CCol xs=\"12\" md=\"6\">\r\n                          <CFormGroup>\r\n                            <CLabel>To which jupter branch?</CLabel>\r\n                            <CSelect\r\n                              aria-label=\"Default select example\"\r\n                              id=\"branch\"\r\n                              name=\"branch\"\r\n                              onChange={onChangeInput}\r\n                              value={business.branch}\r\n                              required\r\n                            >\r\n                              <option value=\"\">Select branch...</option>\r\n                              {branchs.map((branch) => (\r\n                                <option value={branch._id} key={branch._id}>\r\n                                  {branch.branchName}\r\n                                </option>\r\n                              ))}\r\n                            </CSelect>\r\n                          </CFormGroup>\r\n                        </CCol>\r\n                      )}\r\n                      {onEdit && user.userRole === \"branch-admin\" && (\r\n                        <CCol xs=\"12\" md=\"6\">\r\n                          <CFormGroup>\r\n                            <CLabel>\r\n                              Assigne technician for this bussiness.\r\n                            </CLabel>\r\n                            <CSelect\r\n                              aria-label=\"Default select example\"\r\n                              id=\"sw_Tech\"\r\n                              name=\"sw_Tech\"\r\n                              onChange={onChangeInput}\r\n                              value={business.sw_Tech}\r\n                              // required\r\n                            >\r\n                              <option value=\"\">Select technician...</option>\r\n                              {employees\r\n                                .filter(\r\n                                  (employee) =>\r\n                                    employee.userRole === \"technician\"\r\n                                )\r\n                                .map((filteredEmployee) => (\r\n                                  <option\r\n                                    value={filteredEmployee._id}\r\n                                    key={filteredEmployee._id}\r\n                                  >\r\n                                    {filteredEmployee.fName}{\" \"}\r\n                                    {filteredEmployee.mName}{\" \"}\r\n                                    {filteredEmployee.lName}\r\n                                  </option>\r\n                                ))}\r\n                            </CSelect>\r\n                          </CFormGroup>\r\n                        </CCol>\r\n                      )}\r\n                      <CCol xs=\"12\">\r\n                        Upload neccessary files of business\r\n                        <hr />\r\n                      </CCol>\r\n                      <CCol sm=\"12\" md=\"6\">\r\n                        <CFormGroup>\r\n                          <CLabel htmlFor=\"formFile\">\r\n                            File size not more than (5MB)\r\n                          </CLabel>\r\n                          <CInput\r\n                            id=\"TL_Image\"\r\n                            type=\"file\"\r\n                            accept=\".pdf, .docx\"\r\n                            name=\"TL_Image\"\r\n                            onChange={onChangeFileInput}\r\n                          />\r\n                        </CFormGroup>\r\n                      </CCol>\r\n                    </CRow>\r\n                    <CRow className=\"d-flex justify-content-center\">\r\n                      <CCol\r\n                        xs=\"12\"\r\n                        sm=\"6\"\r\n                        className=\"d-flex justify-content-between\"\r\n                      >\r\n                        <CButton\r\n                          type=\"submit\"\r\n                          size=\"sm\"\r\n                          className=\"px-4\"\r\n                          color=\"dark\"\r\n                        >\r\n                          <CIcon name=\"cil-save\" />\r\n                          {onEdit ? \"Save Cahnges\" : \"Send Detail\"}\r\n                        </CButton>\r\n                        {!onEdit && (\r\n                          <CButton\r\n                            size=\"sm\"\r\n                            className=\"px-4\"\r\n                            color=\"danger\"\r\n                            onClick={() => setBusiness(businessDetail)}\r\n                          >\r\n                            <CIcon name=\"cil-x\" /> Clear All\r\n                          </CButton>\r\n                        )}\r\n                      </CCol>\r\n                      <CCol sm=\"12\">\r\n                        <hr />\r\n                        <span className=\"text-muted\">\r\n                          Fill all the forms properly, And send the detail. Then\r\n                          wait until the admin analysed the document and get you\r\n                          notified. This may take an hours or a day.\r\n                        </span>\r\n                      </CCol>\r\n                    </CRow>\r\n                  </CTabPane>\r\n                  <CTabPane>\r\n                    <BusinessOverview {...business} />\r\n                  </CTabPane>\r\n                </CTabContent>\r\n              </CForm>\r\n            </CTabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  );\r\n};\r\n\r\nexport default BusinessRegistration;\r\n"],"sourceRoot":""}