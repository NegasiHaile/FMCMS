(this["webpackJsonpjupiter-trading-fmcms"]=this["webpackJsonpjupiter-trading-fmcms"]||[]).push([[5],{775:function(e,t,n){"use strict";n.r(t);var c=n(16),a=n.n(c),r=n(24),s=n(168),i=n(42),l=n(13),o=n(1),b=n(23),j=n.n(b),d=n(90),h=n(684),u=n(685),m=n(165),x=n.n(m),O=n(11),p={branchName:"",city:"",subCity:"",kebele:"",woreda:"",buildingName:"",officeNumber:"",telephone:"",email:""};t.default=function(){var e=Object(o.useContext)(d.b),t=Object(l.a)(e.UserAPI.User,1)[0],n=Object(l.a)(e.token,1)[0],c=Object(o.useState)(p),b=Object(l.a)(c,2),m=b[0],f=b[1],g=Object(l.a)(e.branchAPI.branchs,1)[0],w=Object(l.a)(e.branchAPI.callback,2),v=w[0],C=w[1],N=Object(o.useState)("none"),k=Object(l.a)(N,2),y=k[0],D=k[1],B=Object(o.useState)(!1),E=Object(l.a)(B,2),S=E[0],A=E[1],z=function(e){var t=e.target,n=t.name,c=t.value;f(Object(i.a)(Object(i.a)({},m),{},Object(s.a)({},n,c)))},P=function(e,t){x.a.fire({position:"center",background:"#EBEDEF",icon:e,text:t,confirmButtonColor:"#3C4B64",showConfirmButton:!0})},J=function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.post("/branch/open_new",Object(i.a)({},m));case 4:n=e.sent,P("success",n.data.msg),A(!S),C(!v),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),P("error",e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(a.a.mark((function e(t){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j.a.put("/branch/edit/".concat(y),Object(i.a)({},m),{headers:{Authorization:n}});case 4:c=e.sent,P("success",c.data.msg),A(!S),C(!v),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),P("error",e.t0.response.data.msg);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.a)(a.a.mark((function e(t,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{x.a.fire({title:"Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#1E263C",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=Object(r.a)(a.a.mark((function e(c){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConfirmed){e.next=6;break}return e.next=3,j.a.delete("/branch/delete/".concat(t),{headers:{Authorization:n}});case 3:r=e.sent,x.a.fire("Deleted!",r.data.msg,"success"),C(!v);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(c){P("error",c.response.data.msg)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.h,{className:" shadow-sm",children:[Object(O.jsxs)(h.k,{className:"d-flex justify-content-between",children:[Object(O.jsx)(h.I,{children:"Jupiter Branhcs"}),"super-admin"===t.userRole&&Object(O.jsxs)(h.e,{size:"sm",color:"light",onClick:function(){f(Object(i.a)({branch:m},p)),D("none"),A(!S)},children:[Object(O.jsx)(u.a,{name:"cil-plus"})," Open New Branch"]})]}),Object(O.jsx)(h.i,{children:Object(O.jsx)(h.o,{items:g,fields:["branchName","city","subCity","kebele","woreda","buildingName","officeNumber","telephone","Actions"],tableFilter:!0,itemsPerPageSelect:!0,itemsPerPage:5,hover:!0,cleaner:!0,sorter:!0,pagination:!0,scopedSlots:{Actions:function(e){return Object(O.jsxs)("td",{className:"d-flex justify-content-between",children:["super-admin"===t.userRole&&Object(O.jsxs)(O.Fragment,{children:[" ",Object(O.jsx)(h.J,{className:"text-success",onClick:function(){f(Object(i.a)({branch:e},e)),D(e._id),A(!S)},children:Object(O.jsx)(h.jb,{content:"Edit the  - ".concat(e.branchName,"- branch detail."),children:Object(O.jsx)(u.a,{name:"cil-pencil"})})}),Object(O.jsx)("span",{className:"text-muted",children:"|"}),Object(O.jsx)(h.J,{className:"text-danger",onClick:function(){return F(e._id)},children:Object(O.jsx)(h.jb,{content:"Delete - ".concat(e.branchName,"- branch."),children:Object(O.jsx)(u.a,{name:"cil-trash"})})}),Object(O.jsx)("span",{className:"text-muted",children:"|"})," "]}),Object(O.jsx)(h.J,{className:"text-primary",to:"/Branch/Detail/".concat(e._id),children:Object(O.jsx)(h.jb,{content:"See detail of - ".concat(e.branchName,"- branch."),children:Object(O.jsx)(u.a,{name:"cil-fullscreen"})})})]})}}})}),Object(O.jsxs)(h.K,{size:"lg",show:S,onClose:function(){return A(!S)},children:[Object(O.jsx)(h.N,{closeButton:!0,children:Object(O.jsx)(h.O,{children:"Openning new branch form"})}),Object(O.jsxs)(h.v,{onSubmit:J,children:[Object(O.jsx)(h.L,{children:Object(O.jsxs)(h.T,{children:[Object(O.jsx)(h.l,{xs:"12",children:Object(O.jsxs)(h.w,{children:["Branch Name",Object(O.jsx)(h.D,{id:"branchName",name:"branchName",placeholder:"Enter branch unique name.",value:m.branchName,onChange:z,required:!0})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Address City",Object(O.jsx)(h.D,{id:"city",name:"city",placeholder:"enter the branch city",value:m.city,onChange:z,required:!0})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Sub city",Object(O.jsx)(h.D,{id:"subCity",name:"subCity",placeholder:"Enter sub city.",value:m.subCity,onChange:z,required:!0})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Kebele",Object(O.jsx)(h.D,{id:"kebele",name:"kebele",placeholder:"Enter kebele.",value:m.kebele,onChange:z})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Woreda",Object(O.jsx)(h.D,{id:"woreda",name:"woreda",placeholder:"Enter woreda.",value:m.woreda,onChange:z})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Building Name",Object(O.jsx)(h.D,{id:"buildingName",name:"buildingName",placeholder:"Enter building name.",value:m.buildingName,onChange:z})]})}),Object(O.jsx)(h.l,{xs:"12",md:"4",children:Object(O.jsxs)(h.w,{children:["Office Number",Object(O.jsx)(h.D,{id:"officeNumber",name:"officeNumber",placeholder:"Enter office number",value:m.officeNumber,onChange:z})]})}),Object(O.jsx)(h.l,{xs:"12",md:"6",children:Object(O.jsxs)(h.w,{children:["Telephone",Object(O.jsx)(h.D,{type:"text",id:"telephone",name:"telephone",placeholder:"Enter branch telephone",pattern:"[1-9]{1}[0-9]{9}",maxlength:"13",value:m.telephone,onChange:z,required:!0})]})}),Object(O.jsx)(h.l,{xs:"12",md:"6",children:Object(O.jsxs)(h.w,{children:["Email",Object(O.jsx)(h.D,{type:"email",id:"email",name:"email",placeholder:"Enter branch email",value:m.email,onChange:z})]})})]})}),Object(O.jsxs)(h.M,{children:["none"===y?Object(O.jsxs)(h.e,{type:"submit",size:"sm",color:"success",children:[Object(O.jsx)(u.a,{name:"cil-save"})," Open Branch"]}):Object(O.jsxs)(h.e,{size:"sm",color:"dark",onClick:q,children:[Object(O.jsx)(u.a,{name:"cil-pencil"})," Save Changes"]}),Object(O.jsxs)(h.e,{size:"sm",color:"danger",onClick:function(){return A(!S)},children:[Object(O.jsx)(u.a,{name:"cil-x"})," Close"]})]})]})]})]})})}}}]);
//# sourceMappingURL=5.2aa724c5.chunk.js.map